
/****************************************************************************************************
* File cc_algorithm.c Start!
****************************************************************************************************/

/****************************************************************************************************
* Include
****************************************************************************************************/
#include "cc_algorithm.h"
#include "cc_trace.h"

/****************************************************************************************************
* Define
****************************************************************************************************/

/****************************************************************************************************
* Type Define
****************************************************************************************************/

/****************************************************************************************************
* Global Variable
****************************************************************************************************/

/* default little endian */
cc_algorithm_endianmode_enum cc_algorithm_endianmode = CC_ALGORITHM_LITTLE_ENDIAN;
/* init flag */
cc_boolean cc_algorithm_initflag = CC_FALSE;

/****************************************************************************************************
* Function Impletement
****************************************************************************************************/

/****************************************************************************************************
* cc_algorithm_init()
****************************************************************************************************/
cc_result cc_algorithm_init(cc_void)
{
    cc_result result = CC_E_OK;

    do
    {
        /* check parameter */
        CHECK_LOGIC(result,(cc_algorithm_initflag != CC_TRUE));

        /* check endian */
        cc_algorithm_checkendian(&cc_algorithm_endianmode);

        cc_algorithm_initflag = CC_TRUE;

    }while(0u);

    return result;
}

/****************************************************************************************************
* cc_algorithm_checkendian()
****************************************************************************************************/
cc_result cc_algorithm_checkendian(cc_algorithm_endianmode_enum *mode)
{
    cc_result result = CC_E_OK;
    cc_uint32 num;

    do
    {
        /* check parameter */
        CHECK_PTR(result,mode);
        /* detect endian */
        num = 1;
        if(*((cc_uint8 *)&num) == 1)
        {
            *mode = CC_ALGORITHM_LITTLE_ENDIAN;
        }
        else
        {
            *mode = CC_ALGORITHM_BIG_ENDIAN;
        }
    }while(0u);

    return result;
}

/****************************************************************************************************
* File cc_algorithm.c End!
****************************************************************************************************/

